var app={loadResources:function(){console.log("ok")},startAnim:function(){function e(s,a,o){var r,l=0,i=s[0].dataset.num?t(s):s;r=setInterval(function(){l<i.length?(i[l].style.opacity=1,i[l].style.transform="translate(0,0)",l++):o?clearInterval(r):(clearInterval(r),e(n,1e3,!0))},a)}var t,s=document.querySelectorAll(".js-items"),n=document.querySelectorAll(".js-header-item");t=function(e){function t(e,t){return e.dataset.num-t.dataset.num}var s=Array.prototype.slice.call(e,0);return s.sort(t)},setTimeout(e(s,100,!1),1e3)},menuToggle:function(){var e=document.querySelectorAll(".js-menu-item"),t="menu__item_state_active",s=event.currentTarget;forEachMethod.call(e,function(e){e.classList.remove(t)}),s.classList.add(t)},buttonFormSend:function(){var e,t=document.getElementById("startScreen"),s=document.getElementById("itemOrg"),n=document.getElementById("btnGoForm"),a=document.getElementById("request"),o=document.getElementById("slider"),r=n.childNodes[0],l="rgba(222, 164, 82, 0)",i="rgba(222, 164, 82, 1)",c="rgba(255, 255, 255, 0)",d="rgba(255, 255, 255, 1)",u="button_state_hide",m="organizer_state_hide",v="organizer_trans",g="request_state_show",f="slider_pos_top",_="slider_no_trans",p="wrapper_state_hide";e=function(e,t){return e.classList.contains(t)},setTimeout(function(){s.classList.add(v)},1e3),n.addEventListener("click",function(){t.classList.toggle(p),a.classList.toggle(g),n.classList.toggle(u),o.classList.toggle(_),o.classList.toggle(f),setTimeout(function(){o.classList.toggle(_)},500),n.style.color=e(n,u)?l:c,s.style.opacity=0,setTimeout(function(){r.data=e(n,u)?"Вернуться на сайт":n.dataset.text,n.style.color=e(n,u)?d:i,s.classList.toggle(m),s.style.opacity=1},250)})},request:{nextStep:function(){var e=event.currentTarget.closest(".form__step"),t=e.nextElementSibling,s="form__step_state_active";e.classList.contains("form__step_start")&&this.name(),e.classList.remove(s),setTimeout(function(){e.classList.add("hide"),t.classList.remove("hide"),setTimeout(function(){t.classList.add(s)},200)},800)},name:function(){var e=document.getElementById("inputName"),t=document.querySelectorAll(".js-input-name");forEachMethod.call(t,function(t){t.innerHTML=e.value})},formSend:function(){var e=document.getElementById("formSend");this.nextStep(),e.submit()},validForm:function(){var e=document.getElementById("formSend"),t={};t.validName=function(){var e=event.currentTarget,t=e.closest(".form__step").querySelector(".button-small");e.value.length<4?(e.classList.add("error"),t.disabled=!0):(e.classList.remove("error"),t.disabled=!1)},t.validMail=function(){var e=event.currentTarget,t=e.closest(".form__step").querySelector(".button-small"),s=/^(\w|[.])+@[a-z]+[.][a-z]{2,}$/i;s.test(e.value)?(e.classList.remove("error"),t.disabled=!1):(e.classList.add("error"),t.disabled=!0)},t.validPhone=function(){var e=event.currentTarget,t=e.closest(".form__step").querySelector(".button-small"),s=/^((\+[7])|[8])(([-]?|\s)|[(]?)[0-9]{3,4}([)]?|([-]?|\s))[0-9]{3}[-]?[0-9]{2}[-]?[0-9]{2}$/i;s.test(e.value)?(e.classList.remove("error"),t.disabled=!1):(e.classList.add("error"),t.disabled=!0)},e.elements.name.oninput=t.validName,e.elements.mail.oninput=t.validMail,e.elements.phone.oninput=t.validPhone}}};app.init=function(){this.loadResources(),this.startAnim(),this.buttonFormSend(),this.request.validForm()};var forEachMethod=Array.prototype.forEach;document.addEventListener("DOMContentLoaded",app.init());