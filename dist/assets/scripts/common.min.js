var app={loadResources:function(){console.log("ok")},startAnim:function(){function e(n,a,r){var o,i=0,l=n[0].dataset.num?t(n):n;o=setInterval(function(){i<l.length?(l[i].style.opacity=1,l[i].style.transform="translate(0,0)",i++):r?clearInterval(o):(clearInterval(o),e(s,1e3,!0))},a)}var t,n=document.querySelectorAll(".js-items"),s=document.querySelectorAll(".js-header-item");t=function(e){function t(e,t){return e.dataset.num-t.dataset.num}var n=Array.prototype.slice.call(e,0);return n.sort(t)},setTimeout(e(n,100,!1),1e3)},menuToggle:function(){var e=document.querySelectorAll(".js-menu-item"),t="menu__item_state_active",n=event.currentTarget;forEachMethod.call(e,function(e){e.classList.remove(t)}),n.classList.add(t)},buttonFormSend:function(){var e,t=document.getElementById("startScreen"),n=document.getElementById("itemOrg"),s=document.getElementById("btnGoForm"),a=document.getElementById("request"),r=document.getElementById("slider"),o=s.childNodes[0],i="rgba(222, 164, 82, 0)",l="rgba(222, 164, 82, 1)",c="rgba(255, 255, 255, 0)",u="rgba(255, 255, 255, 1)",d="button_state_hide",m="organizer_state_hide",v="organizer_trans",g="request_state_show",f="slider_pos_top",p="slider_no_trans",_="wrapper_state_hide";e=function(e,t){return e.classList.contains(t)},setTimeout(function(){n.classList.add(v)},1e3),s.addEventListener("click",function(){t.classList.toggle(_),a.classList.toggle(g),s.classList.toggle(d),r.classList.toggle(p),r.classList.toggle(f),setTimeout(function(){r.classList.toggle(p)},500),s.style.color=e(s,d)?i:c,n.style.opacity=0,setTimeout(function(){o.data=e(s,d)?"Вернуться на сайт":s.dataset.text,s.style.color=e(s,d)?u:l,n.classList.toggle(m),n.style.opacity=1},250)})},request:{nextStep:function(){var e=event.currentTarget.closest(".form__step"),t=e.nextElementSibling,n="form__step_state_active";e.classList.contains("form__step_start")&&this.name(),e.classList.remove(n),setTimeout(function(){e.classList.add("hide"),t.classList.remove("hide"),setTimeout(function(){t.classList.add(n)},200)},800)},name:function(){var e=document.getElementById("inputName"),t=document.querySelectorAll(".js-input-name");forEachMethod.call(t,function(t){t.innerHTML=e.value})},formSend:function(){var e=document.getElementById("formSend");this.nextStep(),e.submit()},validForm:function(){var e=document.getElementById("formSend"),t={};t.validName=function(){var e=event.currentTarget,t=e.closest(".form__step").querySelector(".button-small");e.value.length<4?(e.classList.add("error"),t.disabled=!0):(e.classList.remove("error"),t.disabled=!1)},t.validMail=function(){var e=event.currentTarget,t=e.closest(".form__step").querySelector(".button-small"),n=/^(\w|[.])+@[a-z]+[.][a-z]{2,}$/i;n.test(e.value)?(e.classList.remove("error"),t.disabled=!1):(e.classList.add("error"),t.disabled=!0)},t.validPhone=function(){var e=event.currentTarget,t=e.closest(".form__step").querySelector(".button-small"),n=/^((\+[7])|[8])(([-]?|\s)|[(]?)[0-9]{3,4}([)]?|([-]?|\s))[0-9]{3}[-]?[0-9]{2}[-]?[0-9]{2}$/i;n.test(e.value)?(e.classList.remove("error"),t.disabled=!1):(e.classList.add("error"),t.disabled=!0)},e.elements.name.oninput=t.validName,e.elements.mail.oninput=t.validMail,e.elements.phone.oninput=t.validPhone}},parallax:function(){var e,t=document.getElementById("petals");e=new Parallax(t,{relativeInput:!0,clipRelativeInput:!1,calibrateX:!1,calibrateY:!0,invertX:!1,invertY:!0,limitX:!1,limitY:10,scalarX:2,scalarY:8,frictionX:.2,frictionY:.8,originX:0,originY:1}),console.log(t)}};app.init=function(){this.loadResources(),this.startAnim(),this.buttonFormSend(),this.request.validForm(),this.parallax()};var forEachMethod=Array.prototype.forEach;document.addEventListener("DOMContentLoaded",app.init());